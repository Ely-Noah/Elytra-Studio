<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- üéØ SEO BASIQUE -->
    <title>Elytra Studio - Creative Studio Design | Portfolio</title>
    <meta name="description" content="Elytra Studio, creative studio sp√©cialis√© en design graphique, branding, illustration et direction artistique. D√©couvrez notre portfolio de projets cr√©atifs." />
    <meta name="keywords" content="design graphique, branding, illustration, portfolio, creative studio, direction artistique, graphiste, freelance" />
    <meta name="author" content="Elytra Studio" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="FR" />

        <!-- üåê OPEN GRAPH (Facebook, LinkedIn, etc.) -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://elytra-studio.fr/" />
    <meta property="og:title" content="Elytra Studio - Creative Studio Design" />
    <meta property="og:description" content="Creative studio sp√©cialis√© en design graphique, branding, illustration et direction artistique. D√©couvrez notre portfolio de projets cr√©atifs." />
    <meta property="og:image" content="https://elytra-studio.fr/public/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Elytra Studio" />
    <meta property="og:locale" content="fr_FR" />
    
    
    <!-- üì± MOBILE & PWA -->
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Elytra Studio" />
    
    
    <!-- üé® FAVICON (plusieurs formats pour compatibilit√©) -->
    <link rel="icon" type="image/png" href="./public/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./public/favicon.svg" />
    <link rel="shortcut icon" href="./public/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./public/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Elytra" />
    <link rel="manifest" href="./public/site.webmanifest" />
    
    <!-- üé® STYLES -->
    <link rel="stylesheet" href="./styles.css" />
    
    <style>
      /* Loading Screen */
      .loading-screen {
        position: fixed;
        inset: 0;
        background: #000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 99999;
        transition: opacity 0.8s ease, visibility 0.8s ease;
      }

      .loading-screen.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      /* Textes avec animations de fade */
      .loading-text {
        position: absolute;
        font-size: 20px;
        font-weight: 300;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: #fff;
        font-family: 'Outfit', sans-serif;
        opacity: 0;
        animation-duration: 5s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: forwards;
      }

      .loading-text.elytra {
        animation-name: fadeInOut1;
      }

      .loading-text.creative {
        animation-name: fadeInOut2;
      }

      @keyframes fadeInOut1 {
        0% { opacity: 0; transform: translateX(-20px); }
        10% { opacity: 1; transform: translateX(0); }
        40% { opacity: 1; transform: translateX(0); }
        50% { opacity: 0; transform: translateX(20px); }
        100% { opacity: 0; transform: translateX(20px); }
      }

      @keyframes fadeInOut2 {
        0% { opacity: 0; transform: translateX(-20px); }
        50% { opacity: 0; transform: translateX(-20px); }
        60% { opacity: 1; transform: translateX(0); }
        90% { opacity: 1; transform: translateX(0); }
        100% { opacity: 0; transform: translateX(20px); }
      }

      /* Responsive */
      @media (max-width: 640px) {
        .loading-text {
          font-size: 18px;
        }
      }

      /* Navbar cach√©e pendant le loading */
      .nav-wrap {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.8s ease 0.3s, visibility 0.8s ease 0.3s;
      }

      .nav-wrap.visible {
        opacity: 1;
        visibility: visible;
      }
    </style>
  </head>
  <body>

    <!-- ‚ú® CURSEUR PERSONNALIS√â (desktop only) -->
    <div class="custom-cursor"></div>

    <!-- ‚ö° PARTICULES FLOTTANTES (fond) -->
    <div class="floating-particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>

    <!-- üé® BLUR COLOR√â AU HOVER DES PROJETS -->
    <div class="project-hover-blur" id="projectBlur">
      <div class="blur-gradient" id="blurGradient"></div>
    </div>

    <!-- üíö STATUT DISPONIBILIT√â + EMAIL (haut gauche) -->
    <div class="status-indicator">
      <img src="./public/logo-elytra.svg" alt="Elytra Studio" class="elytra-logo">
      <div class="status-line">
        <div class="status-dot"></div>
        <span class="status-text">Disponible pour nouveaux projets</span>
      </div>
      <div class="email-typewriter" id="emailTypewriter">hello.elytra@gmail.com</div>
    </div>

    <!-- üìç LOCALISATION + HEURE (haut droite) -->
    <div class="location-time">
      <div class="location-text">
        <span class="location-dot"></span>
        La Rochelle, France
      </div>
      <div class="time-text" id="current-time">--:-- GMT+1</div>
    </div>

    <!-- üîÑ TAGS ROTATIFS (centre haut - ligne 1) -->
    <div class="rotating-text">
      <span class="rotating-text-item">Branding</span>
      <span class="rotating-text-item">Print & Affichage</span>
      <span class="rotating-text-item">Direction Artistique</span>
      <span class="rotating-text-item">Motion Design</span>
      <span class="rotating-text-item">Identit√© Visuelle</span>
    </div>

    <!-- üìú DESCRIPTION STUDIO (centre haut - ligne 2) -->
    <div class="marquee-container">
      <div class="marquee-content">
        <span class="marquee-item">Creative Studio sp√©cialis√© en design graphique & branding</span>
        <span class="marquee-item">Portfolio 2025 ‚Äî 30+ projets cr√©atifs</span>
        <span class="marquee-item">Design, Print, Packaging, Illustration, DA</span>
        <span class="marquee-item">Elytra Studio ‚Äî La Rochelle, Nouvelle-Aquitaine</span>
      </div>
    </div>

    <!-- üîÑ SCROLL PROGRESS CIRCULAIRE (haut gauche) -->
    <div class="scroll-progress">
      <svg class="progress-ring" width="50" height="50">
        <circle class="progress-ring-circle" stroke-width="2" fill="transparent" r="22" cx="25" cy="25"/>
        <circle class="progress-ring-progress" stroke-width="2" fill="transparent" r="22" cx="25" cy="25" id="progressCircle"/>
      </svg>
      <div class="progress-text" id="progressText">0%</div>
    </div>

    <!-- üìä COMPTEUR DE PROJETS (bas gauche - AU-DESSUS) -->
    <div class="project-counter">
      <div class="counter-value" id="project-count">0</div>
      <div class="counter-label">Projets cr√©atifs</div>
    </div>

    <!-- üíì INDICATEUR BPM AVEC ONDE (bas gauche - EN DESSOUS) -->
    <div class="bpm-indicator">
      <div class="bpm-wave">
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
        <div class="bpm-dot"></div>
      </div>
      <div class="bpm-text">
        <span class="bpm-value" id="bpm-value">72</span>BPM
      </div>
    </div>

    <!-- üåç GLOBE 3D INTERACTIF (bas droite) -->
    <div class="globe-container">
      <canvas id="globe-canvas"></canvas>
    </div>

    <!-- üìÖ ANN√âE EN COURS (supprim√©) -->

    <!-- üîÑ INDICATEUR DE SCROLL (bas centre) -->
    <div class="scroll-indicator">
      <div class="scroll-text">Explore</div>
      <div class="scroll-mouse">
        <div class="scroll-wheel"></div>
      </div>
    </div>

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-text elytra">ELYTRA STUDIO</div>
      <div class="loading-text creative">CREATIVE STUDIO DESIGN</div>
    </div>

    <nav class="nav-wrap" id="navbar">
      <ul class="nav">
        <li><a class="tab active" href="#work">Portfolio</a></li>
        <li><a class="tab" href="https://works.elytra-studio.fr/">√Ä propos</a></li>
        <li><a class="tab" href="https://works.elytra-studio.fr/contact">Contact</a></li>
      </ul>
    </nav>

    <section id="gallery">
      <div class="vignette-overlay"></div>
    </section>

    <!-- üé¨ Overlay de transition AVANC√âE -->
    <div class="page-transition-overlay">
      <div class="transition-loader">Chargement...</div>
    </div>

    <script>
      // V√©rifier si c'est la premi√®re visite de la session
      const hasVisited = sessionStorage.getItem('hasVisitedGallery');
      const loadingScreen = document.getElementById('loadingScreen');
      const navbar = document.getElementById('navbar');
      
      if (hasVisited) {
        // Si d√©j√† visit√© : masquer imm√©diatement le loading et afficher la navbar
        loadingScreen.classList.add('hidden');
        navbar.classList.add('visible');
        console.log('‚úÖ Returning visitor - skipping loading screen');
      } else {
        // Premi√®re visite : afficher le loading screen
        console.log('üé¨ First visit - showing loading screen');
        
        setTimeout(() => {
          loadingScreen.classList.add('hidden');
          navbar.classList.add('visible');
          // Marquer comme visit√© dans la session
          sessionStorage.setItem('hasVisitedGallery', 'true');
          console.log('‚úÖ Loading complete!');
        }, 5000);
      }

      // üé¨ GESTION DES CLICS SUR LA NAVBAR
      document.addEventListener('DOMContentLoaded', function() {
        const navbar = document.querySelector('.nav-wrap');
        const navLinks = document.querySelectorAll('.nav-wrap a');
        
        // ‚ö†Ô∏è EMP√äCHER LES CLICS SUR LA GALERIE QUAND ON CLIQUE SUR LA NAVBAR
        if (navbar) {
          // Bloquer tous les √©v√©nements sur la navbar pour qu'ils ne traversent pas
          navbar.addEventListener('mousedown', function(e) {
            e.stopPropagation();
          }, true);
          
          navbar.addEventListener('touchstart', function(e) {
            e.stopPropagation();
          }, true);
          
          navbar.addEventListener('click', function(e) {
            e.stopPropagation();
          }, true);
        }
        
        navLinks.forEach(link => {
          link.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            
            // Si c'est un lien externe Webflow, utiliser la transition
            if (href && href.includes('webflow.io')) {
              e.preventDefault();
              e.stopPropagation();
              
              const overlay = document.querySelector('.page-transition-overlay');
              const gallery = document.getElementById('gallery');
              
              // Zoom arri√®re + fade
              if (gallery) {
                gallery.style.transition = 'transform 0.8s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.6s ease';
                gallery.style.transform = 'scale(0.95)';
                gallery.style.opacity = '0';
              }
              
              // Overlay monte
              setTimeout(() => {
                if (overlay) overlay.classList.add('active');
              }, 300);
              
              // Navigation
              setTimeout(() => {
                sessionStorage.setItem('fromGallery', 'true');
                window.location.href = href;
              }, 1100);
            }
          });
        });
      });
    </script>

    <!-- ‚ú® SCRIPT CURSEUR PERSONNALIS√â -->
    <script>
      // üéØ Curseur personnalis√© (desktop uniquement)
      if (window.innerWidth > 768) {
        const cursor = document.querySelector('.custom-cursor');
        let mouseX = 0;
        let mouseY = 0;
        let cursorX = 0;
        let cursorY = 0;
        const speed = 0.15; // Vitesse de suivi (plus bas = plus smooth)

        // Suivi de la position de la souris
        document.addEventListener('mousemove', (e) => {
          mouseX = e.clientX;
          mouseY = e.clientY;
          
          // Afficher le curseur au premier mouvement
          if (!cursor.classList.contains('visible')) {
            cursor.classList.add('visible');
          }
        });

        // Animation smooth avec requestAnimationFrame
        function animateCursor() {
          // Interpolation pour un mouvement fluide
          cursorX += (mouseX - cursorX) * speed;
          cursorY += (mouseY - cursorY) * speed;
          
          cursor.style.left = cursorX + 'px';
          cursor.style.top = cursorY + 'px';
          
          requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Effet hover sur les liens et √©l√©ments cliquables
        const interactiveElements = document.querySelectorAll('a, button, .tab, [role="button"]');
        
        interactiveElements.forEach(el => {
          el.addEventListener('mouseenter', () => {
            cursor.classList.add('hover');
          });
          
          el.addEventListener('mouseleave', () => {
            cursor.classList.remove('hover');
          });
        });

        // Masquer le curseur quand on quitte la fen√™tre
        document.addEventListener('mouseleave', () => {
          cursor.style.opacity = '0';
        });
        
        document.addEventListener('mouseenter', () => {
          cursor.style.opacity = '1';
        });
      }

      // ‚úâÔ∏è Animation typewriter en boucle pour l'email
      function startTypewriterLoop() {
        const emailElement = document.getElementById('emailTypewriter');
        if (!emailElement) return;

        const fullText = 'hello.elytra@gmail.com';
        let charIndex = 0;
        let isDeleting = false;
        
        function typeWriter() {
          if (!isDeleting) {
            // √âcrire
            emailElement.textContent = fullText.substring(0, charIndex);
            emailElement.classList.add('typing');
            charIndex++;
            
            if (charIndex > fullText.length) {
              // Pause √† la fin avant de supprimer
              emailElement.classList.remove('typing');
              setTimeout(() => {
                isDeleting = true;
                typeWriter();
              }, 8000); // Pause de 8 secondes
              return;
            }
            
            setTimeout(typeWriter, 80); // Vitesse d'√©criture
          } else {
            // Supprimer
            emailElement.textContent = fullText.substring(0, charIndex);
            emailElement.classList.add('typing');
            charIndex--;
            
            if (charIndex < 0) {
              // Recommencer l'√©criture
              isDeleting = false;
              charIndex = 0;
              setTimeout(typeWriter, 1000); // Pause avant de recommencer
              return;
            }
            
            setTimeout(typeWriter, 40); // Vitesse de suppression (plus rapide)
          }
        }
        
        // D√©marrer apr√®s le loading screen
        setTimeout(() => {
          typeWriter();
        }, 5000);
      }
      
      startTypewriterLoop();

      // üïê Horloge en temps r√©el
      function updateTime() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const timeElement = document.getElementById('current-time');
        if (timeElement) {
          timeElement.textContent = `${hours}:${minutes} GMT+1`;
        }
      }
      
      // Mettre √† jour l'heure imm√©diatement puis toutes les secondes
      updateTime();
      setInterval(updateTime, 1000);

      // üíì Animation BPM dynamique (70-130 al√©atoire √† chaque refresh)
      function animateBPM() {
        const bpmElement = document.getElementById('bpm-value');
        if (!bpmElement) return;
        
        // BPM de base al√©atoire entre 70 et 130 √† chaque refresh
        const baseBPM = Math.floor(Math.random() * 61) + 70; // 70 √† 130
        let currentBPM = baseBPM;
        bpmElement.textContent = currentBPM;
        
        // Variation l√©g√®re autour du BPM de base
        setInterval(() => {
          const variation = Math.floor(Math.random() * 7) - 3; // -3 √† +3
          currentBPM = Math.max(baseBPM - 5, Math.min(baseBPM + 5, baseBPM + variation));
          bpmElement.textContent = currentBPM;
          
          // Ajuster la vitesse du heartbeat en fonction du BPM
          const heartElement = document.querySelector('.bpm-heart');
          if (heartElement) {
            const animationDuration = 60 / currentBPM; // Dur√©e en secondes
            heartElement.style.animationDuration = animationDuration + 's';
          }
        }, 2000); // Change toutes les 2 secondes
      }
      
      animateBPM();

      // üìä Animation compteur de projets (compte jusqu'√† 31)
      function animateCounter() {
        const counterElement = document.getElementById('project-count');
        if (!counterElement) return;
        
        let count = 0;
        const target = 31;
        const duration = 2500; // 2.5 secondes pour bien voir
        const increment = target / (duration / 16); // 60fps
        
        const timer = setInterval(() => {
          count += increment;
          if (count >= target) {
            count = target;
            clearInterval(timer);
          }
          counterElement.textContent = Math.floor(count);
        }, 16);
      }
      
      // ‚ö†Ô∏è IMPORTANT: D√©marrer le compteur SEULEMENT apr√®s le loading screen (5 secondes)
      setTimeout(() => {
        animateCounter();
      }, 5100); // 5s loading + 100ms d√©lai

      // üîÑ Masquer le scroll indicator apr√®s scroll
      let hasScrolled = false;
      window.addEventListener('scroll', () => {
        if (!hasScrolled) {
          const scrollIndicator = document.querySelector('.scroll-indicator');
          if (scrollIndicator) {
            scrollIndicator.style.transition = 'opacity 0.5s ease';
            scrollIndicator.style.opacity = '0';
            setTimeout(() => {
              scrollIndicator.style.display = 'none';
            }, 500);
          }
          hasScrolled = true;
        }
      });

      // üì∑ PARALLAXE DE LA CAM√âRA AU MOUVEMENT DU CURSEUR
      const gallery = document.getElementById('gallery');
      if (gallery && window.innerWidth > 768) {
        let mouseX = 0;
        let mouseY = 0;
        let currentX = 0;
        let currentY = 0;
        
        document.addEventListener('mousemove', (e) => {
          // Normaliser les coordonn√©es entre -1 et 1
          mouseX = (e.clientX / window.innerWidth) * 2 - 1;
          mouseY = (e.clientY / window.innerHeight) * 2 - 1;
        });
        
        function animateCameraParallax() {
          // Interpolation fluide
          currentX += (mouseX - currentX) * 0.05;
          currentY += (mouseY - currentY) * 0.05;
          
          // Appliquer le mouvement (tr√®s subtil)
          const moveX = currentX * 15; // 15px max de d√©placement
          const moveY = currentY * 15;
          
          gallery.style.transform = `translate(${moveX}px, ${moveY}px)`;
          
          requestAnimationFrame(animateCameraParallax);
        }
        
        animateCameraParallax();
      }

      // üé® EFFET BLUR COLOR√â AU HOVER DES PROJETS
      // Ce script doit √™tre adapt√© √† votre galerie Three.js
      // Il d√©tecte le hover des projets et applique un blur color√©
      if (window.innerWidth > 768) {
        const blurContainer = document.getElementById('projectBlur');
        const blurGradient = document.getElementById('blurGradient');
        
        let isHovering = false;
        
        // Cette fonction est appel√©e depuis votre script.js
        // quand un projet est survol√©
        window.onProjectHover = function(position, isEnter, colors) {
          if (isEnter && colors) {
            isHovering = true;
            blurContainer.classList.add('active');
            
            // Positionner le blur au centre du curseur
            blurGradient.style.left = position.x + 'px';
            blurGradient.style.top = position.y + 'px';
            blurGradient.style.transform = 'translate(-50%, -50%)';
            
            // Appliquer les couleurs du projet
            blurGradient.style.background = `radial-gradient(circle, ${colors[0]}, ${colors[1]})`;
          } else {
            isHovering = false;
            blurContainer.classList.remove('active');
          }
        };
        
        // Suivre le curseur quand on hover
        document.addEventListener('mousemove', (e) => {
          if (isHovering) {
            blurGradient.style.left = e.clientX + 'px';
            blurGradient.style.top = e.clientY + 'px';
          }
        });
      }
    </script>

    <!-- üåç SCRIPT GLOBE 3D -->
    <script type="module">
      import * as THREE from 'three';

      // üåç Globe 3D minimaliste et synchronis√©
      if (window.innerWidth > 768) {
        const canvas = document.getElementById('globe-canvas');
        if (canvas) {
          const container = canvas.parentElement;
          const width = container.offsetWidth;
          const height = container.offsetHeight;

          // Sc√®ne
          const scene = new THREE.Scene();

          // Cam√©ra
          const camera = new THREE.PerspectiveCamera(50, width / height, 0.1, 1000);
          camera.position.z = 2.2;

          // Renderer
          const renderer = new THREE.WebGLRenderer({
            canvas: canvas,
            alpha: true,
            antialias: true
          });
          renderer.setSize(width, height);
          renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

          // Globe minimaliste (sph√®re wireframe simple)
          const geometry = new THREE.SphereGeometry(0.9, 24, 24);
          const material = new THREE.MeshBasicMaterial({
            color: 0xffffff,
            wireframe: true,
            transparent: true,
            opacity: 0.4
          });
          const globe = new THREE.Mesh(geometry, material);
          scene.add(globe);

          // Variables pour la rotation
          let targetRotationX = 0;
          let targetRotationY = 0;
          let currentRotationX = 0;
          let currentRotationY = 0;
          const dampingFactor = 0.08;

          // üéØ SYNCHRONISATION AVEC LE SCROLL DE LA PAGE
          let lastScrollY = window.scrollY;
          let lastScrollX = window.scrollX;
          
          window.addEventListener('scroll', () => {
            const deltaY = (window.scrollY - lastScrollY) * 0.002;
            const deltaX = (window.scrollX - lastScrollX) * 0.002;
            
            targetRotationY += deltaY;
            targetRotationX += deltaX;
            
            lastScrollY = window.scrollY;
            lastScrollX = window.scrollX;
          });

          // üéØ SYNCHRONISATION AVEC LE DRAG DE LA GALERIE (via mousemove global)
          let lastMouseX = 0;
          let lastMouseY = 0;
          let isMouseMoving = false;
          let mouseMoveTimeout;

          document.addEventListener('mousemove', (e) => {
            const deltaX = e.clientX - lastMouseX;
            const deltaY = e.clientY - lastMouseY;
            
            // Seulement si le mouvement est significatif
            if (Math.abs(deltaX) > 2 || Math.abs(deltaY) > 2) {
              targetRotationY += deltaX * 0.0008;
              targetRotationX -= deltaY * 0.0008;
              isMouseMoving = true;
              
              clearTimeout(mouseMoveTimeout);
              mouseMoveTimeout = setTimeout(() => {
                isMouseMoving = false;
              }, 150);
            }
            
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
          });

          // üéØ SYNCHRONISATION AVEC LE TOUCH/DRAG MOBILE
          let lastTouchX = 0;
          let lastTouchY = 0;

          document.addEventListener('touchmove', (e) => {
            if (e.touches.length === 1) {
              const touch = e.touches[0];
              const deltaX = touch.clientX - lastTouchX;
              const deltaY = touch.clientY - lastTouchY;
              
              if (Math.abs(deltaX) > 1 || Math.abs(deltaY) > 1) {
                targetRotationY += deltaX * 0.001;
                targetRotationX -= deltaY * 0.001;
              }
              
              lastTouchX = touch.clientX;
              lastTouchY = touch.clientY;
            }
          });

          document.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
              lastTouchX = e.touches[0].clientX;
              lastTouchY = e.touches[0].clientY;
            }
          });

          // Rotation automatique douce quand pas d'interaction
          const autoRotateSpeed = 0.001;
          let lastActivityTime = Date.now();
          
          // Mettre √† jour le temps d'activit√©
          ['scroll', 'mousemove', 'touchmove'].forEach(event => {
            document.addEventListener(event, () => {
              lastActivityTime = Date.now();
            });
          });

          // Animation
          function animate() {
            requestAnimationFrame(animate);

            // Si pas d'activit√© depuis 3 secondes, rotation auto
            const timeSinceActivity = Date.now() - lastActivityTime;
            if (timeSinceActivity > 3000) {
              targetRotationY += autoRotateSpeed;
            }

            // Interpolation fluide (damping)
            currentRotationX += (targetRotationX - currentRotationX) * dampingFactor;
            currentRotationY += (targetRotationY - currentRotationY) * dampingFactor;

            globe.rotation.x = currentRotationX;
            globe.rotation.y = currentRotationY;

            renderer.render(scene, camera);
          }

          animate();

          // Responsive
          window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
              const newWidth = container.offsetWidth;
              const newHeight = container.offsetHeight;
              camera.aspect = newWidth / newHeight;
              camera.updateProjectionMatrix();
              renderer.setSize(newWidth, newHeight);
            }
          });
        }
      }
    </script>

    <script type="module" src="./script.js"></script>
  </body>
</html>